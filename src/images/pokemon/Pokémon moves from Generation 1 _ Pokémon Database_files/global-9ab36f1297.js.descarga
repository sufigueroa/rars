SV=window.SV||{},SV.Filtable=function(t,e,n){const o={text:{selector:'input[type="text"], input[type="search"]',event:"input"},select:{selector:"select",event:"change"},checkbox:{selector:'input[type="checkbox"]',event:"click"}};let l=[];const i={zebraStriping:!1,locale:"en"};let s={};const r=["odd","even"];let a={};const c=function(t,e){for(let n of e)if(n=parseInt(n,10),-1==t.indexOf(n))throw"Error: invalid column specified in data-filter-col attribute"},u=function(t,e){const n=t.querySelectorAll(":scope > td");for(let t of e){if(0==t.value.length)continue;let e=!1;for(let i of t.columns){let r=n[i],a=r.getAttribute("data-filter-value");if(a)t.value==a&&(e=!0);else{let n=r.textContent;o=n,l=t.value,-1!=o.toLocaleLowerCase(s.locale).indexOf(l.toLocaleLowerCase(s.locale))&&(e=!0)}}if(!e)return!1}var o,l;return!0},f=function(){let t=window.location.hash.replace("#","");if(0===t.length)return{};let e={},n=t.split("&");for(let t of n){let n=t.split("=");2===n.length&&(e[n[0]]=n[1])}return e},d=function(){if(!e)return;let t=f();for(let n in t)fieldElem=e.querySelector('[data-filter-hash="'+n+'"]'),fieldElem&&(fieldElem.value=t[n])},p=function(t){let e=t.getAttribute("data-filter-hash");if(!e)return;let n=f();n[e]=t.value;let o="#";for(let t in n)0!==n[t].length&&("#"!==o&&(o+="&"),o+=t+"="+n[t]);"#"===o&&(o=window.location.pathname+window.location.search),window.history.replaceState(void 0,void 0,o)};return a.buildFilters=function(){let e=[];const n=function(){const e=t.querySelectorAll(":scope > tbody > tr:first-child > td").length;let n=[];for(let t=0;t<e;t++)n.push(t);return n}();for(let t of l){let l=[],i=t.getAttribute("data-filter-col");i?(l=i.toString().split(","),c(n,l)):l=n;let s="";s=t.matches(o.checkbox.selector)?t.checked?t.value:"":t.value,e.push({columns:l,value:s})}return e},a.restripeTable=function(){let e=t.querySelectorAll(":scope > tbody > tr"),n=0;for(let t of e)t.classList.remove(...r),t.classList.contains("hidden")||(t.classList.add(r[n]),n=1-n)},a.applyFilters=function(e){if(!Array.isArray(e))throw"Error: invalid filters supplied";t.dispatchEvent(new CustomEvent("sv.filtable.before")),setTimeout((function(){let n=t.querySelectorAll(":scope > tbody > tr");for(let t of n)u(t,e)?t.classList.remove("hidden"):t.classList.add("hidden");s.zebraStriping&&a.restripeTable(),t.dispatchEvent(new CustomEvent("sv.filtable.after"))}),10)},function(){if(!t)throw"Error: invalid table element supplied";s=Object.assign({},i,n),function(){if(e)for(let t in o){let n=o[t],i=e.querySelectorAll(n.selector);for(let t of i)l.push(t),t.addEventListener(n.event,(function(e){let n=a.buildFilters();a.applyFilters(n),p(t)}))}}(),window.addEventListener("hashchange",(function(t){d(),a.applyFilters(a.buildFilters())})),d(),setTimeout((function(){a.applyFilters(a.buildFilters())}),10)}(),a},SV=window.SV||{},SV.HoverIntent=function(t,e){const n={exitDelay:400,interval:100,sensitivity:7};let o,l,i,s,r,a,c,u={};const f=function(t){o=t.pageX,l=t.pageY},d=function(t){const e=i-o,n=s-l;if(Math.sqrt(e*e+n*n)<u.sensitivity){clearTimeout(c);for(let t of r)t.isActive&&(u.onExit(t),t.isActive=!1);u.onEnter(t),t.isActive=!0}else i=o,s=l,a=setTimeout((function(){d(t)}),u.interval)};!function(t,e){if(!e||!e.onEnter||!e.onExit)throw"onEnter and onExit callbacks must be provided";u=function(t,e){for(let n in e)t[n]=e[n];return t}(n,e),r=t;for(let t of r)t.isActive=!1,t.addEventListener("mousemove",f),t.addEventListener("mouseenter",(function(e){i=e.pageX,s=e.pageY,t.isActive?clearTimeout(c):a=setTimeout((function(){d(t)}),u.interval)})),t.addEventListener("mouseleave",(function(e){clearTimeout(a),t.isActive&&(c=setTimeout((function(){u.onExit(t),t.isActive=!1}),u.exitDelay))}))}(t,e)},SV=window.SV||{},SV.LocalDb=function(t,e){let n={};const o=t,l=e;let i=[],s={};const r=function(t){return localStorage.hasOwnProperty(t)},a=function(t){return n.versions[t]||0},c=function(t,e){let o={};try{o=JSON.parse(t)}catch(t){throw"Server response was not JSON"}n[e]=o,localStorage[e]=t,function(t){n.versions[t]=l,localStorage.versions=JSON.stringify(n.versions)}(e)},u=function(t){let e=o+t;!function(t,e,n){let o=new XMLHttpRequest;o.open("GET",t),o.onload=function(){200==this.status?"function"==typeof e&&e(this.response):n()},o.onerror=n,o.send()}(e,(function(e){c(e,t)}),(function(){throw i.push(t),"Error fetching data from server "+e}))},f=function(t,e){let o=!0;for(let e of t){let t=localStorage[e];i.includes(e)||(!t||a(e)<l?o=!1:n[e]||(n[e]=JSON.parse(t)))}o?setTimeout(e,10):setTimeout((function(){f(t,e)}),500)};return s.load=function(t,e){let n=[];for(let e of t)(!r(e)||a(e)<l)&&n.push(e);for(let t of n)u(t);f(t,e)},s.table=function(t){return n[t]},s.hasError=function(t){return t?i.includes(t):i.length>0},n.versions=localStorage.versions?JSON.parse(localStorage.versions):{},s},SV=window.SV||{},SV.Modal=function(t,e){var n,o,l;let i={};const s={animTime:400};var r={getModalElement:function(){return n},getContentElement:function(){return l},getTitleElement:function(){return o},inject:function(t,e){n&&(o&&(o.innerHTML=e),l&&(l.innerHTML=t))},show:function(){n&&n.classList.add("visible")},close:function(){n&&(n.classList.remove("visible"),setTimeout((function(t){o&&(o.innerHTML=""),l&&(l.innerHTML=""),n.dispatchEvent(new CustomEvent("sv.modal.close"))}),i.animTime))},resizeContent:function(t,e){n&&(l.style.width=l.offsetWidth+"px",l.style.height=l.offsetHeight+"px",t&&e&&(l.style.width=t+"px",l.style.height=e+"px"),setTimeout((function(t){n.dispatchEvent(new CustomEvent("sv.modal.resize"))}),i.animTime))}};return i=Object.assign({},s,e),(n=document.createElement("div")).id=t,n.classList.add("modal-wrapper"),n.innerHTML='<div class="modal"><span class="modal-close" title="Close">&times;</span><h3 class="modal-title"></h3><div class="modal-content"></div></div>',document.querySelector("body").appendChild(n),o=n.querySelector(".modal-title"),l=n.querySelector(".modal-content"),n.addEventListener("click",(function(t){var e=t.target.classList;(e.contains("modal-wrapper")||e.contains("modal-close"))&&r.close()})),r},SV=window.SV||{},SV.Sortable=function(t,e){const n={initialSort:!1,sortFns:{int:function(t,e){return parseInt(t,10)-parseInt(e,10)},float:function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t.toString().localeCompare(e.toString())},"string-ins":function(t,e){return t=t.toString().toLocaleLowerCase(),e=e.toString().toLocaleLowerCase(),t.localeCompare(e)}}};let o={};const l={asc:"asc",desc:"desc"};let i={dir:l};const s=function(e,n){let i=e.getAttribute("data-sort-type");if(!i)return;let s=function(t){let e=0;for(let n of t.parentElement.children){if(n===t)return e;let o=n.getAttribute("colspan")||1;e+=parseInt(o,10)}throw"Header cell not found in table"}(e),r=o.sortFns[i]||o.sortFns.string;const a=n||function(t){let e=t.getAttribute("data-sort-dir");return e?e===l.asc?l.desc:l.asc:t.getAttribute("data-sort-default")||l.asc}(e),c={th:e,column:s,dir:a};t.dispatchEvent(new CustomEvent("sv.sortable.before",{detail:c})),setTimeout((function(){let n=function(t,e,n){let o=[];for(let n of t){let t=n.children[e];if(!t)continue;let l=t.getAttribute("data-sort-value");null===l&&(l=t.textContent),o.push([l,n])}return o.sort((function(t,e){return n(t[0],e[0])})),o.map((function(t){return t[1]}))}(t.querySelectorAll(":scope > tbody > tr"),s,r);a===l.desc&&n.reverse();let o=t.querySelector("tbody");o.innerHTML="";for(let t of n)o.appendChild(t);let i=t.querySelectorAll("thead th");for(let t of i)t.removeAttribute("data-sort-dir"),t.classList.remove("sorting-asc","sorting-desc"),t===e&&(e.setAttribute("data-sort-dir",a),e.classList.add("sorting-"+a));t.dispatchEvent(new CustomEvent("sv.sortable.after",{detail:c}))}),10)};return i.sortColumn=function(t,e){let n=i.getThByIndex(t);n&&s(n,e)},i.getThByIndex=function(e){let n=Array.from(t.querySelectorAll(":scope > thead > tr > th")),o=0;for(let t=0;t<n.length;t++){let l=n[t];if(o>=e)return l;let i=l.getAttribute("colspan")||1;o+=parseInt(i,10)}return null},function(){if(!t)throw"Error: invalid table element supplied";o=function(t,e){let n=Object.assign({},t,e);return e&&e.sortFns&&(n.sortFns=Object.assign({},t.sortFns,e.sortFns)),n}(n,e),t.addEventListener("click",(function(t){let e=t.target.closest("th");e&&s(e)})),!1!==o.initialSort&&i.sortColumn(o.initialSort)}(),i},SV=window.SV||{},SV.Tabs=function(t,e){const n={equalHeight:!1,useAnchors:!1};let o,l,i,s,r={},a={};const c=function(t){let e=t.getAttribute("href");return e?e.replace("#",""):""};return a.showTab=function(t){let e=!1;for(let n=0;n<i.length;n++){const o=i[n],l=s[n];c(o)===t?(o.classList.add("active"),0===n&&(e=!0)):o.classList.remove("active"),l.id===t?l.classList.add("active"):l.classList.remove("active")}if(r.useAnchors&&history.replaceState){var n=e?window.location.pathname+window.location.search:"#tab="+t;history.replaceState(null,null,n)}},function(){r=Object.assign({},n,e);let u="HTML structure is incorrect";if(o=t.querySelector(":scope > .sv-tabs-tab-list"),l=t.querySelector(":scope > .sv-tabs-panel-list"),!o||!l)throw u;if(i=o.querySelectorAll(":scope > .sv-tabs-tab"),s=l.querySelectorAll(":scope > .sv-tabs-panel"),!i||!s)throw u;const f=i.length,d=s.length;if(f!==d)throw"Number of tabs ("+f+") does not match number of panels ("+d+")";if(o.addEventListener("click",(function(t){t.preventDefault();let e=t.target.closest(".sv-tabs-tab");if(!e)return;let n=c(e);a.showTab(n)})),r.equalHeight){let t=0;Array.from(s).forEach((function(e){let n=function(t){if("none"!==getComputedStyle(t).display)return t.offsetHeight;t.style.display="block";let e=t.offsetHeight;return t.style.display="",e}(e);t=Math.max(t,n)})),l.style.height=t+"px"}let p=location.hash.match(/#tab=(.+)/);p?a.showTab(p[1]):i[0]&&a.showTab(c(i[0]))}(),a},String.prototype.contains=function(t){return-1!=this.toLowerCase().indexOf(t.toLowerCase())},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),String.prototype.escapeHtml=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};const cmpPokemonNatlDex=function(t,e){return t.national==e.national?t.id-e.id:t.national-e.national};function buildParamString(t){t=t||{};let e="";for(let n in t)e+="&"+n+"="+encodeURIComponent(t[n]);return e.substr(1)}function insertIntoTextarea(t,e){const n=elQS(t);if(!n)return;const o=n.selectionStart,l=n.selectionEnd;n.value=n.value.substring(0,o)+e+n.value.substring(l,n.value.length),n.focus(),n.selectionStart=n.selectionEnd=o+e.length}function sortableSetBlankValues(t,e,n){if(!(null!==n.th.getAttribute("data-blanks")))return;const o=["","-","N/A","—"],l="99999",i="-99999";let s=elQSA("tbody td:nth-child("+(n.column+1)+")",e);for(let e of s){let s=e.textContent.trim();if(o.indexOf(s)<0)continue;let r=e.getAttribute("data-sort-value");if([l,i,null,""].indexOf(r)<0)continue;let a=n.dir===t.dir.asc?l:i;e.setAttribute("data-sort-value",a)}}function docReady(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function onEvent(t,e,n,o){if(!t)return;let l=e.split(" ");o=o||{};for(let e in l)t.addEventListener(l[e],n,o)}function onDelegatedEvent(t,e,n,o,l){if(!t)return;let i=n.split(" ");l=l||{};let s=function(t){let n=t.target.closest(e);n&&o(t,n)};for(let e in i)t.addEventListener(i[e],s,l)}function elId(t,e){return(e=e||document).getElementById(t)}function elClass(t,e){return(e=e||document).getElementsByClassName(t)}function elTag(t,e){return(e=e||document).getElementsByTagName(t)}function elQS(t,e){return(e=e||document).querySelector(t)}function elQSA(t,e){return(e=e||document).querySelectorAll(t)}function ajaxRequest(t,e,n,o,l){let i=buildParamString(n),s=null;"GET"===t&&i.length>0&&(e+="?"+i);let r=new XMLHttpRequest;r.open(t,e),"POST"===t&&(r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s=i);let a=function(){"function"==typeof l&&l()};r.onload=function(){200==this.status?"function"==typeof o&&o(this.response):a()},r.onerror=a,r.send(s)}!function(){let t=elQSA(".main-menu-list > li > a");for(let e of t)e.removeAttribute("href");let e=elClass("main-menu-item"),n="main-menu-item-active";onDelegatedEvent(elQS(".main-menu-list"),".main-menu-heading","touchend click",(function(t,o){let l=o.parentElement;if(l.classList.contains(n))l.classList.remove(n);else{for(let t of e)t.classList.remove(n);l.classList.add(n)}t.preventDefault()})),new SV.HoverIntent(e,{onEnter:function(t){t.classList.add(n)},onExit:function(t){t.classList.remove(n)},exitDelay:600})}(),function(){const t=13,e=27,n=38,o=40;let l=new SV.LocalDb("/json/",localDbVersions),i=elId("sitesearch"),s=elQS(".sitesearch-results");const r=function(){l.load(["searchdata"],a.appMain),i.removeEventListener("focus",r)};onEvent(i,"focus",r);let a={maxResults:12,tmplResult:function(t){let e=t.type.replace("_","-"),n=t.type.charAt(0).toUpperCase()+t.type.substr(1).replace("_"," ");return'<a class="sitesearch-results-item" href="/'+e+"/"+t.alias+'"><span class="ent-name" >'+t.name+'</span> <small class="sitesearch-results-type">'+n+"</small></a>"},clearResults:function(t){t.innerHTML="",t.classList.remove("sitesearch-active")},outputResults:function(t,e){if(0===e.length)return void this.clearResults(t);let n="";for(let t of e)n+=a.tmplResult(t);t.innerHTML=n,t.classList.add("sitesearch-active")},searchResults:function(t){let e=l.table("searchdata"),n=[];for(let o in e)for(let l in e[o]){let i=e[o][l];if((i[0].contains(t)||i[1].contains(t))&&(n.push({type:o,name:e[o][l][0],alias:e[o][l][1]}),n.length>=a.maxResults))return n}return n},selectResultsItem:function(t){for(let e of s.children)e===t?e.classList.add("sitesearch-results-item-active"):e.classList.remove("sitesearch-results-item-active")},appMain:function(){let l=null;onEvent(i,"keyup focus",(function(t){if(t.which==o){let t=l?l.nextElementSibling:s.firstChild;l=t||l,a.selectResultsItem(l)}else if(t.which==n)l=l?l.previousElementSibling:null,a.selectResultsItem(l);else if(t.which==e)a.clearResults(s),i.blur();else{let t=i.value;if(t.length>=2){let e=a.searchResults(t);a.outputResults(s,e)}else a.outputResults(s,[]);l=null}})),onEvent(i,"blur",(function(){setTimeout((function(){a.clearResults(s)}),200)})),onEvent(i,"keydown",(function(e){if(e.which==t){let t=l?l.getAttribute("href"):"";t&&(e.preventDefault(),window.location.href=t)}else(e.which==n||e.which==o)&&e.preventDefault()})),onDelegatedEvent(s,".sitesearch-results-item","mouseover",(function(t,e){l=e,a.selectResultsItem(e)}))}}}(),function(){if("pokemondb.net"!==location.host)return;if("undefined"!=typeof useSvan&&!useSvan)return;const t=document.querySelector("link[rel=canonical]");ajaxRequest("POST","https://s.pokemondb.net/sv/log",{url:t?t.getAttribute("href"):location.href.split("#")[0],referrer:document.referrer,uastring:navigator.userAgent,lang:navigator.language,resolution:screen.height+"x"+screen.width})}();